{% extends 'user/menu.html' %}

{% block title %}Despesa{% endblock %}

{% block content %}
{% load static %}
<link rel="stylesheet" href="{% static 'user/despesa_comum.css' %}">
<div class="container mt-5">
    <div class="card mx-auto" style="max-width: 400px;">
        <div class="card-body">
            <h3 class="card-title text-center">Despesa</h3>

            {% if messages %}
            <div class="alert alert-success">
                {% for message in messages %}
                    <p>{{ message }}</p>
                {% endfor %}
            </div>
            {% endif %}

            <form method="POST" novalidate id="despesa-form">
                {% csrf_token %}
                <div class="mb-3">
                    {{ form.nome_despesa.label_tag }}
                    {{ form.nome_despesa }}
                </div>
                <div class="mb-3">
                    {{ form.valor_despesa.label_tag }}
                    {{ form.valor_despesa }}
                </div>
                <div class="mb-3">
                    {{ form.categoria_despesa.label_tag }}
                    {{ form.categoria_despesa }}
                </div>
                <button type="submit" class="btn btn-success w-100">Lançar Despesa</button>
            </form>
        </div>
    </div>
</div>

<!-- Modal de sucesso -->
<div class="modal fade" id="successModal" tabindex="-1" aria-labelledby="successModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header border-0">
                <h5 class="modal-title mx-auto" id="successModalLabel">Sucesso!</h5>
            </div>
            <div class="modal-body text-center">
                <p>Lançamento realizado com sucesso!</p>
                <span class="text-success fs-1">&#10004;</span> <!-- Símbolo de Validade -->
            </div>
            <div class="modal-footer border-0">
                <a href="{% url 'despesa_comum' %}" class="nav-link text-light btn btn-success mb-2">ok</a>
            </div>
        </div>
    </div>
</div>

<script src="{% static 'Js/despesa_comum.js' %}"></script>
{% endblock %}
